# 小程序流量主广告位配置说明

## 已添加的广告位

### 1. Banner 广告（横幅广告）
- **位置1**：图片预览区域下方
- **位置2**：页面底部（按钮下方）
- **广告类型**：banner
- **主题**：white（白色主题，适配深色背景）

### 2. 插屏广告
- **触发时机**：
  - 生成图片成功后（每3次显示一次）
  - 随机抽卡成功后（每3次显示一次）
- **延迟显示**：1-2秒后显示，避免打断用户操作

## 配置步骤

### 第一步：获取广告位 ID

1. 登录微信公众平台：https://mp.weixin.qq.com
2. 进入【流量主】-【广告位管理】
3. 创建广告位：
   - **Banner 广告**：创建 2 个（图片下方 + 页面底部）
   - **插屏广告**：创建 1 个
4. 复制每个广告位的 `ad-unit-id`

### 第二步：替换代码中的广告位 ID

#### 1. 修改 `pages/index/index.wxml` 文件

找到以下两处，替换 `adunit-xxxxxxxxxxxxxxxx` 为你的实际广告位 ID：

```xml
<!-- Banner 广告位 - 图片下方 -->
<view class="ad-container">
  <ad unit-id="adunit-xxxxxxxxxxxxxxxx" ad-type="banner" ad-theme="white"></ad>
</view>

<!-- Banner 广告位 - 底部 -->
<view class="ad-container-bottom">
  <ad unit-id="adunit-xxxxxxxxxxxxxxxx" ad-type="banner" ad-theme="white"></ad>
</view>
```

**注意**：两个 Banner 广告位可以使用相同的 ID，也可以使用不同的 ID。

#### 2. 修改 `pages/index/index.js` 文件

找到 `initInterstitialAd()` 方法，替换插屏广告位 ID：

```javascript
initInterstitialAd() {
  if (wx.createInterstitialAd) {
    this.interstitialAd = wx.createInterstitialAd({
      adUnitId: 'adunit-xxxxxxxxxxxxxxxx' // 替换为你的插屏广告位ID
    });
    // ...
  }
},
```

### 第三步：测试广告

1. 在微信开发者工具中编译项目
2. 点击【预览】生成二维码
3. 用手机微信扫码测试（开发者工具中看不到真实广告）
4. 测试广告是否正常显示

## 广告展示策略

- **Banner 广告**：始终显示在页面中
- **插屏广告**：每操作 3 次显示一次，避免过于频繁影响用户体验

## 注意事项

1. **广告位审核**：新创建的广告位需要等待微信审核通过（通常 1-3 个工作日）
2. **测试环境**：开发者工具中无法看到真实广告，需要在真机上测试
3. **广告填充率**：刚开通流量主时，广告填充率可能较低，属于正常现象
4. **用户体验**：建议不要放置过多广告，影响用户体验
5. **违规内容**：确保小程序内容符合微信规范，否则可能被关闭流量主功能

## 优化建议

1. 可以根据实际效果调整插屏广告的显示频率（修改 `% 3` 中的数字）
2. 可以添加激励视频广告，让用户主动观看获得奖励
3. 监控广告收益，优化广告位置和展示策略

## 常见问题

**Q: 为什么看不到广告？**
A: 
- 检查广告位 ID 是否正确
- 确认广告位已通过审核
- 在真机上测试，不要在开发者工具中测试
- 检查小程序是否已发布

**Q: 广告显示不完整？**
A: 
- 检查 CSS 样式是否正确
- 确保广告容器有足够的高度
- 检查是否有其他样式覆盖了广告

**Q: 插屏广告不显示？**
A: 
- 检查是否达到显示条件（每3次操作）
- 查看控制台是否有错误信息
- 确认插屏广告位已创建并审核通过
